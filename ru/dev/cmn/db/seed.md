---
title: Инициализация данных приложения
---

Зачастую при выкладке приложения его необходимо заполнить начальными 
данными - например, если конфигурация приложения сохраняется в базе 
данных. Функционал миграций для этого не подходит, потому что он не 
предназначен для работы с данными, не имеет права производить различные 
изменения в зависимости от текущего состоянии базы данных и не может 
отличить модифицированные пользователем записи от исходных. Можно 
представить следующий пример:

- Миграция А добавляет конфигурационное значение Х = 30
- Совершается релиз приложения
- Создатели приложения собирают статистику и выясняют, что у 50% 
пользователей Х = 40
- В этот момент можно было бы выпустить миграцию, которая изменит Х на
40, однако оно неизбежно затронет тех пользователей, которых устраивает
значение 30, и которые не хотели бы его менять.

Поэтому для этого требуется другой механизм, который получил название 
*Seed*. Этот механизм предназначен для того, чтобы так или иначе 
инициализировать данные в БД, причем в отличие от миграций эта 
инициализация может отличаться в зависимости от окружения, текущих 
данных в БД и прочих внешних параметров. 
  
Подобная инициализация, как правило, имеет две основных цели:

- Заполнить приложения исходными данными, которые в последующих релизах
могут иметь другие значения или расшириться
- Заполнить приложение тестовыми данными, сгенерировав их на ходу

## Декларативная / исполняемая

Как и миграции, инициализация данных может описываться декларативно или
в виде исполняемых файлов. В отличие от миграций, исполняемое описание
может оказаться полезней, так как дает больший простор для работы с 
данными и позволяет задавать внешние ключи в тех случаях, когда 
использование натуральных ключей по тем или иным причинам невозможно.

# Популярные реализации

## Инструменты заполнения БД

### PHP

1. [Phinx][phinx]
 
## Генерация случайных данных

### PHP

1. [Haigha][haigha]
2. [Faker][faker-php]

### Ruby

1. [Faker][faker-ruby]

  [phinx]: https://phinx.org/
  [haigha]: https://github.com/linkorb/haigha
  [faker-php]: https://github.com/fzaninotto/Faker
  [faker-ruby]: https://github.com/stympy/faker